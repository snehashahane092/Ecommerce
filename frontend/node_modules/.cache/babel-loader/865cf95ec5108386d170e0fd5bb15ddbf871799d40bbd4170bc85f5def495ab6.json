{"ast":null,"code":"var _jsxFileName = \"D:\\\\Ecommerse\\\\frontend\\\\src\\\\context\\\\ProductsContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport { productAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProductsContext = /*#__PURE__*/createContext();\nexport const ProductsProvider = ({\n  children\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Fetch all products\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const {\n        data\n      } = await productAPI.getProducts();\n      setProducts(data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to fetch products');\n      console.error('Error fetching products:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch single product\n  const fetchProduct = async id => {\n    try {\n      setLoading(true);\n      setError(null);\n      const {\n        data\n      } = await productAPI.getProduct(id);\n      return data;\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Failed to fetch product');\n      console.error('Error fetching product:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Create product (admin only)\n  const createProduct = async productData => {\n    try {\n      setLoading(true);\n      setError(null);\n      const {\n        data\n      } = await productAPI.createProduct(productData);\n      setProducts(prev => [...prev, data]);\n      return data;\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Failed to create product');\n      console.error('Error creating product:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update product (admin only)\n  const updateProduct = async (id, productData) => {\n    try {\n      setLoading(true);\n      setError(null);\n      const {\n        data\n      } = await productAPI.updateProduct(id, productData);\n      setProducts(prev => prev.map(product => product._id === id ? data : product));\n      return data;\n    } catch (err) {\n      var _err$response4, _err$response4$data;\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.message) || 'Failed to update product');\n      console.error('Error updating product:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete product (admin only)\n  const deleteProduct = async id => {\n    try {\n      setLoading(true);\n      setError(null);\n      await productAPI.deleteProduct(id);\n      setProducts(prev => prev.filter(product => product._id !== id));\n    } catch (err) {\n      var _err$response5, _err$response5$data;\n      setError(((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : (_err$response5$data = _err$response5.data) === null || _err$response5$data === void 0 ? void 0 : _err$response5$data.message) || 'Failed to delete product');\n      console.error('Error deleting product:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Load products on mount\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ProductsContext.Provider, {\n    value: {\n      products,\n      loading,\n      error,\n      fetchProducts,\n      fetchProduct,\n      createProduct,\n      updateProduct,\n      deleteProduct\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductsProvider, \"uC3AVzNvroqWig/cDvwe3iDm/Dc=\");\n_c = ProductsProvider;\nvar _c;\n$RefreshReg$(_c, \"ProductsProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","productAPI","jsxDEV","_jsxDEV","ProductsContext","ProductsProvider","children","_s","products","setProducts","loading","setLoading","error","setError","fetchProducts","data","getProducts","err","_err$response","_err$response$data","response","message","console","fetchProduct","id","getProduct","_err$response2","_err$response2$data","createProduct","productData","prev","_err$response3","_err$response3$data","updateProduct","map","product","_id","_err$response4","_err$response4$data","deleteProduct","filter","_err$response5","_err$response5$data","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Ecommerse/frontend/src/context/ProductsContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\nimport { productAPI } from '../services/api';\r\n\r\nexport const ProductsContext = createContext();\r\n\r\nexport const ProductsProvider = ({ children }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Fetch all products\r\n  const fetchProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const { data } = await productAPI.getProducts();\r\n      setProducts(data);\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to fetch products');\r\n      console.error('Error fetching products:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch single product\r\n  const fetchProduct = async (id) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const { data } = await productAPI.getProduct(id);\r\n      return data;\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to fetch product');\r\n      console.error('Error fetching product:', err);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Create product (admin only)\r\n  const createProduct = async (productData) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const { data } = await productAPI.createProduct(productData);\r\n      setProducts(prev => [...prev, data]);\r\n      return data;\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to create product');\r\n      console.error('Error creating product:', err);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Update product (admin only)\r\n  const updateProduct = async (id, productData) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const { data } = await productAPI.updateProduct(id, productData);\r\n      setProducts(prev => prev.map(product => \r\n        product._id === id ? data : product\r\n      ));\r\n      return data;\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to update product');\r\n      console.error('Error updating product:', err);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Delete product (admin only)\r\n  const deleteProduct = async (id) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      await productAPI.deleteProduct(id);\r\n      setProducts(prev => prev.filter(product => product._id !== id));\r\n    } catch (err) {\r\n      setError(err.response?.data?.message || 'Failed to delete product');\r\n      console.error('Error deleting product:', err);\r\n      throw err;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load products on mount\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  return (\r\n    <ProductsContext.Provider\r\n      value={{\r\n        products,\r\n        loading,\r\n        error,\r\n        fetchProducts,\r\n        fetchProduct,\r\n        createProduct,\r\n        updateProduct,\r\n        deleteProduct\r\n      }}\r\n    >\r\n      {children}\r\n    </ProductsContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}